openapi: 3.0.4
info:
  title: UnderSound Content API
  description: |
    API de contenido inspirada en Bandcamp para gestionar **álbumes, pistas, merchandising, labels y comentarios**.
    Incluye paginación, filtros, subida de archivos (multipart), acciones de publicación y favoritos.
  version: 1.0.0
servers:
- url: https://virtserver.swaggerhub.com/escuelapolitecnicaca/contenido/1.0.0
  description: SwaggerHub API Auto Mocking
- url: https://api.undersound.example.com/v1
  description: Producción
- url: http://localhost:4000/v1
  description: Desarrollo
security:
- oauth2:
  - content.read
  - content.write
tags:
- name: Albums
  description: Gestión de álbumes
- name: Tracks
  description: Gestión de pistas/canciones
- name: Merch
  description: Gestión de merchandising
- name: Labels
  description: Gestión de discográficas
- name: Comments
  description: Comentarios globales y moderación
- name: Uploads
  description: Subidas de archivos multimedia
- name: Favorites
  description: Favoritos de usuario (álbumes y merch)
paths:
  /albums:
    get:
      tags:
      - Albums
      summary: Listar álbumes
      operationId: albums_get
      parameters:
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      - name: include
        in: query
        description: "Campos relacionados a incluir, separados por coma. Ej. `tracks,label,stats`"
        required: false
        style: form
        explode: false
        schema:
          type: array
          items:
            type: string
      - name: artistId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: labelId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: genre
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: tag
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: releaseState
        in: query
        description: Estado de publicación
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - draft
          - scheduled
          - published
          - archived
      - name: q
        in: query
        description: Búsqueda full-text por título/descripcion
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: Lista paginada de álbumes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedAlbumList"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
    post:
      tags:
      - Albums
      summary: Crear álbum
      operationId: albums_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AlbumCreateInput"
        required: true
      responses:
        "201":
          description: Álbum creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumResponse"
        "400":
          description: Petición inválida
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
  /albums/{albumId}:
    get:
      tags:
      - Albums
      summary: Obtener detalle de un álbum
      operationId: albums_album_id_get
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: include
        in: query
        description: "Campos relacionados a incluir, separados por coma. Ej. `tracks,label,stats`"
        required: false
        style: form
        explode: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Detalle de álbum
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumResponse"
        "404":
          description: Recurso no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
    delete:
      tags:
      - Albums
      summary: Eliminar o archivar lógicamente un álbum
      operationId: albums_album_id_delete
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: hard
        in: query
        description: "Si true, borrado físico irreversible"
        required: false
        style: form
        explode: true
        schema:
          type: boolean
          default: false
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.albums_controller
    patch:
      tags:
      - Albums
      summary: Actualizar parcialmente un álbum
      operationId: albums_album_id_patch
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AlbumUpdateInput"
        required: true
      responses:
        "200":
          description: Álbum actualizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumResponse"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
  /albums/{albumId}/publish:
    post:
      tags:
      - Albums
      summary: Publicar álbum
      operationId: albums_album_id_publish_post
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Publicado. Retorna recurso actualizado.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumResponse"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
  /albums/{albumId}/tracks:
    post:
      tags:
      - Albums
      summary: Añadir pistas a un álbum
      operationId: albums_album_id_tracks_post
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/albumId_tracks_body"
        required: true
      responses:
        "200":
          description: Álbum con pistas actualizadas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumResponse"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
  /albums/{albumId}/tracks/{trackId}:
    delete:
      tags:
      - Albums
      summary: Quitar una pista del álbum
      operationId: albums_album_id_tracks_track_id_delete
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.albums_controller
  /albums/{albumId}/cover:
    post:
      tags:
      - Uploads
      - Albums
      summary: Subir o actualizar portada del álbum
      operationId: albums_album_id_cover_post
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/albumId_cover_body"
        required: true
      responses:
        "200":
          description: Álbum con portada actualizada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumResponse"
      x-openapi-router-controller: swagger_server.controllers.uploads_controller
  /albums/{albumId}/comments:
    get:
      tags:
      - Comments
      - Albums
      summary: Listar comentarios del álbum
      operationId: albums_album_id_comments_get
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      responses:
        "200":
          description: Lista paginada de comentarios
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedCommentList"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    post:
      tags:
      - Comments
      - Albums
      summary: Comentar en un álbum
      operationId: albums_album_id_comments_post
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentCreateInput"
        required: true
      responses:
        "201":
          description: Comentario creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
        "403":
          description: "No autorizado para comentar (por ejemplo, solo si ha comprado)"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /albums/{albumId}/stats:
    get:
      tags:
      - Albums
      summary: Estadísticas de un álbum
      operationId: albums_album_id_stats_get
      parameters:
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: range
        in: query
        description: Rango temporal para agregados
        required: false
        style: form
        explode: true
        schema:
          type: string
          default: all
          enum:
          - 7d
          - 30d
          - all
      responses:
        "200":
          description: Estadísticas agregadas del álbum
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AlbumStats"
      x-openapi-router-controller: swagger_server.controllers.albums_controller
  /tracks:
    get:
      tags:
      - Tracks
      summary: Listar pistas
      operationId: tracks_get
      parameters:
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      - name: include
        in: query
        description: "Campos relacionados a incluir, separados por coma. Ej. `tracks,label,stats`"
        required: false
        style: form
        explode: false
        schema:
          type: array
          items:
            type: string
      - name: albumId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: artistId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: labelId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: genre
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: tag
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: language
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: es
      - name: minDurationSec
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 0
          type: integer
      - name: maxDurationSec
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 0
          type: integer
      - name: releasedFrom
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: date
      - name: releasedTo
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: date
      - name: sort
        in: query
        description: Campo de ordenación
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - title
          - durationSec
          - playCount
      - name: order
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          default: asc
          enum:
          - asc
          - desc
      - name: q
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: Lista paginada de pistas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedTrackList"
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
    post:
      tags:
      - Tracks
      summary: Crear pista
      operationId: tracks_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TrackCreateInput"
        required: true
      responses:
        "201":
          description: Pista creada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrackResponse"
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
  /tracks/{trackId}:
    get:
      tags:
      - Tracks
      summary: Detalle de pista
      operationId: tracks_track_id_get
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: include
        in: query
        description: "Campos relacionados a incluir, separados por coma. Ej. `tracks,label,stats`"
        required: false
        style: form
        explode: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Detalle de pista
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrackResponse"
        "404":
          description: Recurso no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
    delete:
      tags:
      - Tracks
      summary: Eliminar pista
      operationId: tracks_track_id_delete
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
    patch:
      tags:
      - Tracks
      summary: Actualizar parcialmente una pista
      operationId: tracks_track_id_patch
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TrackUpdateInput"
        required: true
      responses:
        "200":
          description: Pista actualizada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrackResponse"
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
  /tracks/{trackId}/audio:
    post:
      tags:
      - Uploads
      - Tracks
      summary: Subir o actualizar archivo de audio
      operationId: tracks_track_id_audio_post
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/trackId_audio_body"
        required: true
      responses:
        "200":
          description: Pista con audio actualizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrackResponse"
      x-openapi-router-controller: swagger_server.controllers.uploads_controller
  /tracks/{trackId}/stream:
    get:
      tags:
      - Tracks
      summary: URL de streaming/preview (redirección 302 o URL firmada)
      operationId: tracks_track_id_stream_get
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: "Alternativamente, respuesta JSON con URL firmada"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_200"
        "302":
          description: Redirección a la URL de streaming
          headers:
            Location:
              description: URL de streaming
              style: simple
              explode: false
              schema:
                type: string
                format: uri
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
  /tracks/{trackId}/lyrics:
    post:
      tags:
      - Tracks
      summary: Añadir o actualizar letras
      operationId: tracks_track_id_lyrics_post
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/trackId_lyrics_body"
        required: true
      responses:
        "200":
          description: Letras actualizadas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrackResponse"
      x-openapi-router-controller: swagger_server.controllers.tracks_controller
  /tracks/{trackId}/comments:
    get:
      tags:
      - Comments
      - Tracks
      summary: Listar comentarios de una pista
      operationId: tracks_track_id_comments_get
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      responses:
        "200":
          description: Lista paginada de comentarios
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedCommentList"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    post:
      tags:
      - Comments
      - Tracks
      summary: Comentar en una pista
      operationId: tracks_track_id_comments_post
      parameters:
      - name: trackId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentCreateInput"
        required: true
      responses:
        "201":
          description: Comentario creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
        "403":
          description: "No autorizado para comentar (por ejemplo, solo si ha comprado)"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /merch:
    get:
      tags:
      - Merch
      summary: Listar productos de merchandising
      operationId: merch_get
      parameters:
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      - name: artistId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: labelId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: type
        in: query
        description: Tipo de producto
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - camiseta
          - vinilo
          - cd
          - poster
          - pegatina
          - otro
      - name: availability
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - in_stock
          - out_of_stock
          - preorder
      - name: sort
        in: query
        description: Campo de ordenación
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - name
          - price
      - name: order
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          default: asc
          enum:
          - asc
          - desc
      - name: q
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: Lista paginada de merchandising
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedMerchList"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
    post:
      tags:
      - Merch
      summary: Crear producto de merchandising
      operationId: merch_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MerchCreateInput"
        required: true
      responses:
        "201":
          description: Producto creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MerchResponse"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
  /merch/{merchId}:
    get:
      tags:
      - Merch
      summary: Detalle de producto
      operationId: merch_merch_id_get
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Detalle de producto
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MerchResponse"
        "404":
          description: Recurso no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
    delete:
      tags:
      - Merch
      summary: Eliminar producto
      operationId: merch_merch_id_delete
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.merch_controller
    patch:
      tags:
      - Merch
      summary: Actualizar producto
      operationId: merch_merch_id_patch
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MerchUpdateInput"
        required: true
      responses:
        "200":
          description: Producto actualizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MerchResponse"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
  /merch/{merchId}/images:
    post:
      tags:
      - Uploads
      - Merch
      summary: Subir imágenes del producto
      operationId: merch_merch_id_images_post
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/merchId_images_body"
        required: true
      responses:
        "200":
          description: Producto con imágenes actualizadas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MerchResponse"
      x-openapi-router-controller: swagger_server.controllers.uploads_controller
  /merch/{merchId}/variants:
    get:
      tags:
      - Merch
      summary: Listar variantes de un producto
      operationId: merch_merch_id_variants_get
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Lista de variantes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_200_1"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
    post:
      tags:
      - Merch
      summary: Crear variante
      operationId: merch_merch_id_variants_post
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VariantCreateInput"
        required: true
      responses:
        "201":
          description: Variante creada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_201"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
  /merch/{merchId}/variants/{variantId}:
    delete:
      tags:
      - Merch
      summary: Eliminar variante
      operationId: merch_merch_id_variants_variant_id_delete
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: variantId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.merch_controller
    patch:
      tags:
      - Merch
      summary: Actualizar stock/precio de variante
      operationId: merch_merch_id_variants_variant_id_patch
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: variantId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VariantUpdateInput"
        required: true
      responses:
        "200":
          description: Variante actualizada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_201"
      x-openapi-router-controller: swagger_server.controllers.merch_controller
  /merch/{merchId}/comments:
    get:
      tags:
      - Comments
      - Merch
      summary: Listar comentarios de un producto
      operationId: merch_merch_id_comments_get
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      responses:
        "200":
          description: Lista paginada de comentarios
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedCommentList"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    post:
      tags:
      - Comments
      - Merch
      summary: Comentar en un producto
      operationId: merch_merch_id_comments_post
      parameters:
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentCreateInput"
        required: true
      responses:
        "201":
          description: Comentario creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
        "403":
          description: "No autorizado para comentar (por ejemplo, solo si ha comprado)"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /labels:
    get:
      tags:
      - Labels
      summary: Listar labels
      operationId: labels_get
      parameters:
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      - name: q
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: country
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: ES
      responses:
        "200":
          description: Lista paginada de labels
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedLabelList"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
    post:
      tags:
      - Labels
      summary: Crear label
      operationId: labels_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LabelCreateInput"
        required: true
      responses:
        "201":
          description: Label creada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LabelResponse"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
  /labels/{labelId}:
    get:
      tags:
      - Labels
      summary: Detalle de label
      operationId: labels_label_id_get
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: include
        in: query
        description: "Campos relacionados a incluir, separados por coma. Ej. `tracks,label,stats`"
        required: false
        style: form
        explode: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Detalle de label
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LabelResponse"
        "404":
          description: Recurso no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
    delete:
      tags:
      - Labels
      summary: Eliminar label
      operationId: labels_label_id_delete
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.labels_controller
    patch:
      tags:
      - Labels
      summary: Actualizar label
      operationId: labels_label_id_patch
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LabelUpdateInput"
        required: true
      responses:
        "200":
          description: Label actualizada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LabelResponse"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
  /labels/{labelId}/albums:
    get:
      tags:
      - Labels
      - Albums
      summary: Discografía de la label
      operationId: labels_label_id_albums_get
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      responses:
        "200":
          description: Lista paginada de álbumes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedAlbumList"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
  /labels/{labelId}/artists:
    get:
      tags:
      - Labels
      summary: Artistas asociados a la label
      operationId: labels_label_id_artists_get
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Lista de artistas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_200_2"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
    post:
      tags:
      - Labels
      summary: Asociar artistas a la label
      operationId: labels_label_id_artists_post
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/labelId_artists_body"
        required: true
      responses:
        "200":
          description: Lista actualizada de artistas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_200_2"
      x-openapi-router-controller: swagger_server.controllers.labels_controller
  /labels/{labelId}/artists/{artistId}:
    delete:
      tags:
      - Labels
      summary: Desasociar artista de la label
      operationId: labels_label_id_artists_artist_id_delete
      parameters:
      - name: labelId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: artistId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.labels_controller
  /comments:
    get:
      tags:
      - Comments
      summary: Listar comentarios globales
      operationId: comments_get
      parameters:
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      - name: targetType
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - album
          - track
          - merch
      - name: targetId
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: uuid
      - name: status
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - visible
          - hidden
          - pending
      - name: q
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: Lista paginada de comentarios
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedCommentList"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    post:
      tags:
      - Comments
      summary: Crear comentario global
      operationId: comments_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CommentCreateInput"
        required: true
      responses:
        "201":
          description: Comentario creado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
        "403":
          description: "No autorizado para comentar (por ejemplo, solo si ha comprado)"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /comments/{commentId}:
    get:
      tags:
      - Comments
      summary: Detalle de comentario
      operationId: comments_comment_id_get
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Detalle de comentario
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
        "404":
          description: Recurso no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    delete:
      tags:
      - Comments
      summary: Eliminar comentario
      operationId: comments_comment_id_delete
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    patch:
      tags:
      - Comments
      summary: Editar comentario (texto/estado)
      operationId: comments_comment_id_patch
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/comments_commentId_body"
        required: true
      responses:
        "200":
          description: Comentario actualizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /comments/{commentId}/report:
    post:
      tags:
      - Comments
      summary: Reportar comentario
      operationId: comments_comment_id_report_post
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/commentId_report_body"
        required: true
      responses:
        "202":
          description: Reporte recibido
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /comments/{commentId}/like:
    post:
      tags:
      - Comments
      summary: Dar like a un comentario
      operationId: comments_comment_id_like_post
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: OK
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    delete:
      tags:
      - Comments
      summary: Quitar like a un comentario
      operationId: comments_comment_id_like_delete
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /comments/{commentId}/replies:
    get:
      tags:
      - Comments
      summary: Listar respuestas de un comentario (hilo)
      operationId: comments_comment_id_replies_get
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: Lista de respuestas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/inline_response_200_3"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
    post:
      tags:
      - Comments
      summary: Responder a un comentario
      operationId: comments_comment_id_replies_post
      parameters:
      - name: commentId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/commentId_replies_body"
        required: true
      responses:
        "201":
          description: Respuesta creada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommentResponse"
      x-openapi-router-controller: swagger_server.controllers.comments_controller
  /users/{userId}/favorites/albums:
    get:
      tags:
      - Favorites
      summary: Listar álbumes favoritos de un usuario
      operationId: users_user_id_favorites_albums_get
      parameters:
      - name: userId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      responses:
        "200":
          description: Lista paginada de álbumes favoritos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedAlbumList"
      x-openapi-router-controller: swagger_server.controllers.favorites_controller
    post:
      tags:
      - Favorites
      summary: Añadir álbum a favoritos
      operationId: users_user_id_favorites_albums_post
      parameters:
      - name: userId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/favorites_albums_body"
        required: true
      responses:
        "200":
          description: OK
      x-openapi-router-controller: swagger_server.controllers.favorites_controller
  /users/{userId}/favorites/albums/{albumId}:
    delete:
      tags:
      - Favorites
      summary: Quitar álbum de favoritos
      operationId: users_user_id_favorites_albums_album_id_delete
      parameters:
      - name: userId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: albumId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.favorites_controller
  /users/{userId}/favorites/merch:
    get:
      tags:
      - Favorites
      summary: Listar productos de merch favoritos de un usuario
      operationId: users_user_id_favorites_merch_get
      parameters:
      - name: userId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        style: form
        explode: true
        schema:
          minimum: 1
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        style: form
        explode: true
        schema:
          maximum: 100
          minimum: 1
          type: integer
          default: 20
      responses:
        "200":
          description: Lista paginada de merch favoritos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedMerchList"
      x-openapi-router-controller: swagger_server.controllers.favorites_controller
    post:
      tags:
      - Favorites
      summary: Añadir producto de merch a favoritos
      operationId: users_user_id_favorites_merch_post
      parameters:
      - name: userId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/favorites_merch_body"
        required: true
      responses:
        "200":
          description: OK
      x-openapi-router-controller: swagger_server.controllers.favorites_controller
  /users/{userId}/favorites/merch/{merchId}:
    delete:
      tags:
      - Favorites
      summary: Quitar producto de merch de favoritos
      operationId: users_user_id_favorites_merch_merch_id_delete
      parameters:
      - name: userId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      - name: merchId
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
          format: uuid
      responses:
        "204":
          description: Eliminado
      x-openapi-router-controller: swagger_server.controllers.favorites_controller
components:
  schemas:
    Error:
      type: object
      properties:
        message:
          type: string
        code:
          type: string
        details:
          type: object
    PaginationMeta:
      type: object
      properties:
        page:
          type: integer
          example: 1
        limit:
          type: integer
          example: 20
        total:
          type: integer
          example: 123
      example:
        total: 123
        limit: 20
        page: 1
    Image:
      type: object
      properties:
        url:
          type: string
          format: uri
        alt:
          type: string
        width:
          type: integer
        height:
          type: integer
      example:
        alt: alt
        width: 6
        url: http://example.com/aeiou
        height: 1
    ArtistRef:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
      example:
        name: name
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
    LabelRef:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
      example:
        name: name
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
    Album:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: string
        artist:
          $ref: "#/components/schemas/ArtistRef"
        label:
          $ref: "#/components/schemas/LabelRef"
        releaseDate:
          type: string
          format: date
        releaseState:
          type: string
          enum:
          - draft
          - scheduled
          - published
          - archived
        price:
          type: number
          format: float
        currency:
          type: string
          example: EUR
        genres:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
        cover:
          $ref: "#/components/schemas/Image"
        tracks:
          type: array
          items:
            $ref: "#/components/schemas/Track"
        stats:
          $ref: "#/components/schemas/Album_stats"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      example:
        artist:
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        releaseDate: 2000-01-23
        description: description
        label:
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        title: title
        tracks:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          trackNumber: 5
          artist: null
          stats:
            playCount: 7
          album:
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          label: null
          audio:
            codec: codec
            bitrate: 2
            url: http://example.com/aeiou
          title: title
          durationSec: 5
          lyrics:
            language: language
            text: text
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          trackNumber: 5
          artist: null
          stats:
            playCount: 7
          album:
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          label: null
          audio:
            codec: codec
            bitrate: 2
            url: http://example.com/aeiou
          title: title
          durationSec: 5
          lyrics:
            language: language
            text: text
          updatedAt: 2000-01-23T04:56:07.000+00:00
        tags:
        - tags
        - tags
        cover:
          alt: alt
          width: 6
          url: http://example.com/aeiou
          height: 1
        createdAt: 2000-01-23T04:56:07.000+00:00
        stats:
          playCount: 9
          likeCount: 3
          ratingAvg: 4.5
          commentCount: 2
        price: 0.8008282
        genres:
        - genres
        - genres
        currency: EUR
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        releaseState: draft
        updatedAt: 2000-01-23T04:56:07.000+00:00
    AlbumCreateInput:
      required:
      - title
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        artistId:
          type: string
          format: uuid
        labelId:
          type: string
          format: uuid
        releaseDate:
          type: string
          format: date
        price:
          type: number
          format: float
        currency:
          type: string
          example: EUR
        genres:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
    AlbumUpdateInput:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        artistId:
          type: string
          format: uuid
        labelId:
          type: string
          format: uuid
        releaseDate:
          type: string
          format: date
        releaseState:
          type: string
          enum:
          - draft
          - scheduled
          - published
          - archived
        price:
          type: number
          format: float
        currency:
          type: string
          example: EUR
        genres:
          type: array
          items:
            type: string
        tags:
          type: array
          items:
            type: string
    PaginatedAlbumList:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Album"
        meta:
          $ref: "#/components/schemas/PaginationMeta"
      example:
        data:
        - artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseDate: 2000-01-23
          description: description
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          title: title
          tracks:
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          tags:
          - tags
          - tags
          cover:
            alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          createdAt: 2000-01-23T04:56:07.000+00:00
          stats:
            playCount: 9
            likeCount: 3
            ratingAvg: 4.5
            commentCount: 2
          price: 0.8008282
          genres:
          - genres
          - genres
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseState: draft
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseDate: 2000-01-23
          description: description
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          title: title
          tracks:
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          tags:
          - tags
          - tags
          cover:
            alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          createdAt: 2000-01-23T04:56:07.000+00:00
          stats:
            playCount: 9
            likeCount: 3
            ratingAvg: 4.5
            commentCount: 2
          price: 0.8008282
          genres:
          - genres
          - genres
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseState: draft
          updatedAt: 2000-01-23T04:56:07.000+00:00
        meta:
          total: 123
          limit: 20
          page: 1
    AlbumResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/Album"
      example:
        data:
          artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseDate: 2000-01-23
          description: description
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          title: title
          tracks:
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          tags:
          - tags
          - tags
          cover:
            alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          createdAt: 2000-01-23T04:56:07.000+00:00
          stats:
            playCount: 9
            likeCount: 3
            ratingAvg: 4.5
            commentCount: 2
          price: 0.8008282
          genres:
          - genres
          - genres
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseState: draft
          updatedAt: 2000-01-23T04:56:07.000+00:00
    AlbumStats:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/AlbumStats_data"
      example:
        data:
          salesCount: 200
          playsLast30Days: 1200
          totalPlays: 12345
          playsLast7Days: 321
          ratingAvg: 4.5
    Track:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        durationSec:
          type: integer
        trackNumber:
          type: integer
        artist:
          $ref: "#/components/schemas/ArtistRef"
        album:
          $ref: "#/components/schemas/AlbumRef"
        label:
          $ref: "#/components/schemas/LabelRef"
        audio:
          $ref: "#/components/schemas/Track_audio"
        lyrics:
          $ref: "#/components/schemas/Track_lyrics"
        stats:
          $ref: "#/components/schemas/Track_stats"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        trackNumber: 5
        artist: null
        stats:
          playCount: 7
        album:
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          title: title
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        label: null
        audio:
          codec: codec
          bitrate: 2
          url: http://example.com/aeiou
        title: title
        durationSec: 5
        lyrics:
          language: language
          text: text
        updatedAt: 2000-01-23T04:56:07.000+00:00
    AlbumRef:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
      example:
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        title: title
    TrackCreateMinimal:
      required:
      - title
      type: object
      properties:
        title:
          type: string
        durationSec:
          type: integer
        artistId:
          type: string
          format: uuid
    TrackCreateInput:
      allOf:
      - $ref: "#/components/schemas/TrackCreateMinimal"
      - type: object
        properties:
          albumId:
            type: string
            format: uuid
          labelId:
            type: string
            format: uuid
          trackNumber:
            type: integer
          tags:
            type: array
            items:
              type: string
    TrackUpdateInput:
      type: object
      properties:
        title:
          type: string
        durationSec:
          type: integer
        trackNumber:
          type: integer
        albumId:
          type: string
          format: uuid
        labelId:
          type: string
          format: uuid
        tags:
          type: array
          items:
            type: string
    PaginatedTrackList:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Track"
        meta:
          $ref: "#/components/schemas/PaginationMeta"
      example:
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          trackNumber: 5
          artist: null
          stats:
            playCount: 7
          album:
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          label: null
          audio:
            codec: codec
            bitrate: 2
            url: http://example.com/aeiou
          title: title
          durationSec: 5
          lyrics:
            language: language
            text: text
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          trackNumber: 5
          artist: null
          stats:
            playCount: 7
          album:
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          label: null
          audio:
            codec: codec
            bitrate: 2
            url: http://example.com/aeiou
          title: title
          durationSec: 5
          lyrics:
            language: language
            text: text
          updatedAt: 2000-01-23T04:56:07.000+00:00
        meta:
          total: 123
          limit: 20
          page: 1
    TrackResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/Track"
      example:
        data:
          createdAt: 2000-01-23T04:56:07.000+00:00
          trackNumber: 5
          artist: null
          stats:
            playCount: 7
          album:
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          label: null
          audio:
            codec: codec
            bitrate: 2
            url: http://example.com/aeiou
          title: title
          durationSec: 5
          lyrics:
            language: language
            text: text
          updatedAt: 2000-01-23T04:56:07.000+00:00
    MerchItem:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        type:
          type: string
          enum:
          - camiseta
          - vinilo
          - cd
          - poster
          - pegatina
          - otro
        images:
          type: array
          items:
            $ref: "#/components/schemas/Image"
        variants:
          type: array
          items:
            $ref: "#/components/schemas/Variant"
        label:
          $ref: "#/components/schemas/LabelRef"
        artist:
          $ref: "#/components/schemas/ArtistRef"
        availability:
          type: string
          enum:
          - in_stock
          - out_of_stock
          - preorder
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        images:
        - alt: alt
          width: 6
          url: http://example.com/aeiou
          height: 1
        - alt: alt
          width: 6
          url: http://example.com/aeiou
          height: 1
        artist:
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        name: name
        description: description
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        variants:
        - color: color
          size: size
          price: 0.8008282
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          sku: sku
          stock: 6
        - color: color
          size: size
          price: 0.8008282
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          sku: sku
          stock: 6
        label:
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        availability: in_stock
        type: camiseta
        updatedAt: 2000-01-23T04:56:07.000+00:00
    Variant:
      type: object
      properties:
        id:
          type: string
          format: uuid
        sku:
          type: string
        color:
          type: string
        size:
          type: string
        price:
          type: number
          format: float
        currency:
          type: string
          example: EUR
        stock:
          type: integer
      example:
        color: color
        size: size
        price: 0.8008282
        currency: EUR
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        sku: sku
        stock: 6
    VariantCreateInput:
      required:
      - currency
      - price
      type: object
      properties:
        sku:
          type: string
        color:
          type: string
        size:
          type: string
        price:
          type: number
          format: float
        currency:
          type: string
        stock:
          type: integer
    VariantUpdateInput:
      type: object
      properties:
        price:
          type: number
          format: float
        currency:
          type: string
        stock:
          type: integer
    MerchCreateInput:
      required:
      - name
      - type
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        type:
          type: string
          enum:
          - camiseta
          - vinilo
          - cd
          - poster
          - pegatina
          - otro
        artistId:
          type: string
          format: uuid
        labelId:
          type: string
          format: uuid
    MerchUpdateInput:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        type:
          type: string
          enum:
          - camiseta
          - vinilo
          - cd
          - poster
          - pegatina
          - otro
        artistId:
          type: string
          format: uuid
        labelId:
          type: string
          format: uuid
        availability:
          type: string
          enum:
          - in_stock
          - out_of_stock
          - preorder
    PaginatedMerchList:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/MerchItem"
        meta:
          $ref: "#/components/schemas/PaginationMeta"
      example:
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          images:
          - alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          - alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          variants:
          - color: color
            size: size
            price: 0.8008282
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            sku: sku
            stock: 6
          - color: color
            size: size
            price: 0.8008282
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            sku: sku
            stock: 6
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          availability: in_stock
          type: camiseta
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          images:
          - alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          - alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          variants:
          - color: color
            size: size
            price: 0.8008282
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            sku: sku
            stock: 6
          - color: color
            size: size
            price: 0.8008282
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            sku: sku
            stock: 6
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          availability: in_stock
          type: camiseta
          updatedAt: 2000-01-23T04:56:07.000+00:00
        meta:
          total: 123
          limit: 20
          page: 1
    MerchResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/MerchItem"
      example:
        data:
          createdAt: 2000-01-23T04:56:07.000+00:00
          images:
          - alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          - alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          variants:
          - color: color
            size: size
            price: 0.8008282
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            sku: sku
            stock: 6
          - color: color
            size: size
            price: 0.8008282
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            sku: sku
            stock: 6
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          availability: in_stock
          type: camiseta
          updatedAt: 2000-01-23T04:56:07.000+00:00
    Label:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        country:
          type: string
        url:
          type: string
          format: uri
        artists:
          type: array
          items:
            $ref: "#/components/schemas/ArtistRef"
        albums:
          type: array
          items:
            $ref: "#/components/schemas/Album"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      example:
        country: country
        createdAt: 2000-01-23T04:56:07.000+00:00
        albums:
        - artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseDate: 2000-01-23
          description: description
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          title: title
          tracks:
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          tags:
          - tags
          - tags
          cover:
            alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          createdAt: 2000-01-23T04:56:07.000+00:00
          stats:
            playCount: 9
            likeCount: 3
            ratingAvg: 4.5
            commentCount: 2
          price: 0.8008282
          genres:
          - genres
          - genres
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseState: draft
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - artist:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseDate: 2000-01-23
          description: description
          label:
            name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          title: title
          tracks:
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - createdAt: 2000-01-23T04:56:07.000+00:00
            trackNumber: 5
            artist: null
            stats:
              playCount: 7
            album:
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              title: title
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            label: null
            audio:
              codec: codec
              bitrate: 2
              url: http://example.com/aeiou
            title: title
            durationSec: 5
            lyrics:
              language: language
              text: text
            updatedAt: 2000-01-23T04:56:07.000+00:00
          tags:
          - tags
          - tags
          cover:
            alt: alt
            width: 6
            url: http://example.com/aeiou
            height: 1
          createdAt: 2000-01-23T04:56:07.000+00:00
          stats:
            playCount: 9
            likeCount: 3
            ratingAvg: 4.5
            commentCount: 2
          price: 0.8008282
          genres:
          - genres
          - genres
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          releaseState: draft
          updatedAt: 2000-01-23T04:56:07.000+00:00
        artists:
        - name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        - name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        name: name
        description: description
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        url: http://example.com/aeiou
        updatedAt: 2000-01-23T04:56:07.000+00:00
    LabelCreateInput:
      required:
      - name
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        country:
          type: string
        url:
          type: string
          format: uri
    LabelUpdateInput:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        country:
          type: string
        url:
          type: string
          format: uri
    PaginatedLabelList:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Label"
        meta:
          $ref: "#/components/schemas/PaginationMeta"
      example:
        data:
        - country: country
          createdAt: 2000-01-23T04:56:07.000+00:00
          albums:
          - artist:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseDate: 2000-01-23
            description: description
            label:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
            tracks:
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            tags:
            - tags
            - tags
            cover:
              alt: alt
              width: 6
              url: http://example.com/aeiou
              height: 1
            createdAt: 2000-01-23T04:56:07.000+00:00
            stats:
              playCount: 9
              likeCount: 3
              ratingAvg: 4.5
              commentCount: 2
            price: 0.8008282
            genres:
            - genres
            - genres
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseState: draft
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - artist:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseDate: 2000-01-23
            description: description
            label:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
            tracks:
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            tags:
            - tags
            - tags
            cover:
              alt: alt
              width: 6
              url: http://example.com/aeiou
              height: 1
            createdAt: 2000-01-23T04:56:07.000+00:00
            stats:
              playCount: 9
              likeCount: 3
              ratingAvg: 4.5
              commentCount: 2
            price: 0.8008282
            genres:
            - genres
            - genres
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseState: draft
            updatedAt: 2000-01-23T04:56:07.000+00:00
          artists:
          - name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          - name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          url: http://example.com/aeiou
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - country: country
          createdAt: 2000-01-23T04:56:07.000+00:00
          albums:
          - artist:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseDate: 2000-01-23
            description: description
            label:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
            tracks:
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            tags:
            - tags
            - tags
            cover:
              alt: alt
              width: 6
              url: http://example.com/aeiou
              height: 1
            createdAt: 2000-01-23T04:56:07.000+00:00
            stats:
              playCount: 9
              likeCount: 3
              ratingAvg: 4.5
              commentCount: 2
            price: 0.8008282
            genres:
            - genres
            - genres
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseState: draft
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - artist:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseDate: 2000-01-23
            description: description
            label:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
            tracks:
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            tags:
            - tags
            - tags
            cover:
              alt: alt
              width: 6
              url: http://example.com/aeiou
              height: 1
            createdAt: 2000-01-23T04:56:07.000+00:00
            stats:
              playCount: 9
              likeCount: 3
              ratingAvg: 4.5
              commentCount: 2
            price: 0.8008282
            genres:
            - genres
            - genres
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseState: draft
            updatedAt: 2000-01-23T04:56:07.000+00:00
          artists:
          - name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          - name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          url: http://example.com/aeiou
          updatedAt: 2000-01-23T04:56:07.000+00:00
        meta:
          total: 123
          limit: 20
          page: 1
    LabelResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/Label"
      example:
        data:
          country: country
          createdAt: 2000-01-23T04:56:07.000+00:00
          albums:
          - artist:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseDate: 2000-01-23
            description: description
            label:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
            tracks:
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            tags:
            - tags
            - tags
            cover:
              alt: alt
              width: 6
              url: http://example.com/aeiou
              height: 1
            createdAt: 2000-01-23T04:56:07.000+00:00
            stats:
              playCount: 9
              likeCount: 3
              ratingAvg: 4.5
              commentCount: 2
            price: 0.8008282
            genres:
            - genres
            - genres
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseState: draft
            updatedAt: 2000-01-23T04:56:07.000+00:00
          - artist:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseDate: 2000-01-23
            description: description
            label:
              name: name
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            title: title
            tracks:
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            - createdAt: 2000-01-23T04:56:07.000+00:00
              trackNumber: 5
              artist: null
              stats:
                playCount: 7
              album:
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                title: title
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              label: null
              audio:
                codec: codec
                bitrate: 2
                url: http://example.com/aeiou
              title: title
              durationSec: 5
              lyrics:
                language: language
                text: text
              updatedAt: 2000-01-23T04:56:07.000+00:00
            tags:
            - tags
            - tags
            cover:
              alt: alt
              width: 6
              url: http://example.com/aeiou
              height: 1
            createdAt: 2000-01-23T04:56:07.000+00:00
            stats:
              playCount: 9
              likeCount: 3
              ratingAvg: 4.5
              commentCount: 2
            price: 0.8008282
            genres:
            - genres
            - genres
            currency: EUR
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            releaseState: draft
            updatedAt: 2000-01-23T04:56:07.000+00:00
          artists:
          - name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          - name: name
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          url: http://example.com/aeiou
          updatedAt: 2000-01-23T04:56:07.000+00:00
    Comment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        targetType:
          type: string
          enum:
          - album
          - track
          - merch
        targetId:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        text:
          type: string
        rating:
          maximum: 5
          minimum: 1
          type: integer
        status:
          type: string
          default: visible
          enum:
          - visible
          - hidden
          - pending
        likes:
          type: integer
          default: 0
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        replies:
          type: array
          items:
            $ref: "#/components/schemas/Comment"
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        targetId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        replies:
        - null
        - null
        rating: 1
        targetType: album
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        text: text
        userId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        status: visible
        likes: 6
        updatedAt: 2000-01-23T04:56:07.000+00:00
    CommentCreateInput:
      required:
      - text
      type: object
      properties:
        targetType:
          type: string
          enum:
          - album
          - track
          - merch
        targetId:
          type: string
          format: uuid
        text:
          type: string
        rating:
          maximum: 5
          minimum: 1
          type: integer
    PaginatedCommentList:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Comment"
        meta:
          $ref: "#/components/schemas/PaginationMeta"
      example:
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          targetId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          replies:
          - null
          - null
          rating: 1
          targetType: album
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          text: text
          userId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: visible
          likes: 6
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          targetId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          replies:
          - null
          - null
          rating: 1
          targetType: album
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          text: text
          userId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: visible
          likes: 6
          updatedAt: 2000-01-23T04:56:07.000+00:00
        meta:
          total: 123
          limit: 20
          page: 1
    CommentResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/Comment"
      example:
        data:
          createdAt: 2000-01-23T04:56:07.000+00:00
          targetId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          replies:
          - null
          - null
          rating: 1
          targetType: album
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          text: text
          userId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: visible
          likes: 6
          updatedAt: 2000-01-23T04:56:07.000+00:00
    albumId_tracks_body:
      type: object
      properties:
        tracks:
          description: Array de trackIds o objetos de pista mínimos
          oneOf:
          - type: array
            items:
              type: string
              format: uuid
          - type: array
            items:
              $ref: "#/components/schemas/TrackCreateMinimal"
    albumId_cover_body:
      required:
      - file
      type: object
      properties:
        file:
          type: string
          format: binary
        alt:
          type: string
          description: Texto alternativo
    trackId_audio_body:
      required:
      - file
      type: object
      properties:
        file:
          type: string
          format: binary
        bitrate:
          minimum: 64
          type: integer
        codec:
          type: string
    inline_response_200:
      type: object
      properties:
        url:
          type: string
          format: uri
        expiresAt:
          type: string
          format: date-time
      example:
        url: http://example.com/aeiou
        expiresAt: 2000-01-23T04:56:07.000+00:00
    trackId_lyrics_body:
      required:
      - text
      type: object
      properties:
        text:
          type: string
        language:
          type: string
          example: es
    merchId_images_body:
      type: object
      properties:
        files:
          type: array
          items:
            type: string
            format: binary
        alt:
          type: string
    inline_response_200_1:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Variant"
      example:
        data:
        - color: color
          size: size
          price: 0.8008282
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          sku: sku
          stock: 6
        - color: color
          size: size
          price: 0.8008282
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          sku: sku
          stock: 6
    inline_response_201:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/Variant"
      example:
        data:
          color: color
          size: size
          price: 0.8008282
          currency: EUR
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          sku: sku
          stock: 6
    inline_response_200_2:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/ArtistRef"
      example:
        data:
        - name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        - name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
    labelId_artists_body:
      type: object
      properties:
        artistIds:
          type: array
          items:
            type: string
            format: uuid
    comments_commentId_body:
      type: object
      properties:
        text:
          type: string
        status:
          type: string
          enum:
          - visible
          - hidden
          - pending
        rating:
          maximum: 5
          minimum: 1
          type: integer
    commentId_report_body:
      type: object
      properties:
        reason:
          type: string
    inline_response_200_3:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Comment"
      example:
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          targetId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          replies:
          - null
          - null
          rating: 1
          targetType: album
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          text: text
          userId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: visible
          likes: 6
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          targetId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          replies:
          - null
          - null
          rating: 1
          targetType: album
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          text: text
          userId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: visible
          likes: 6
          updatedAt: 2000-01-23T04:56:07.000+00:00
    commentId_replies_body:
      required:
      - text
      type: object
      properties:
        text:
          type: string
    favorites_albums_body:
      required:
      - albumId
      type: object
      properties:
        albumId:
          type: string
          format: uuid
    favorites_merch_body:
      required:
      - merchId
      type: object
      properties:
        merchId:
          type: string
          format: uuid
    Album_stats:
      type: object
      properties:
        playCount:
          type: integer
        likeCount:
          type: integer
        commentCount:
          type: integer
        ratingAvg:
          type: number
          format: float
          example: 4.5
      example:
        playCount: 9
        likeCount: 3
        ratingAvg: 4.5
        commentCount: 2
    AlbumStats_data:
      type: object
      properties:
        totalPlays:
          type: integer
          example: 12345
        playsLast7Days:
          type: integer
          example: 321
        playsLast30Days:
          type: integer
          example: 1200
        ratingAvg:
          type: number
          format: float
          example: 4.5
        salesCount:
          type: integer
          example: 200
      example:
        salesCount: 200
        playsLast30Days: 1200
        totalPlays: 12345
        playsLast7Days: 321
        ratingAvg: 4.5
    Track_audio:
      type: object
      properties:
        url:
          type: string
          format: uri
        bitrate:
          type: integer
        codec:
          type: string
      example:
        codec: codec
        bitrate: 2
        url: http://example.com/aeiou
    Track_lyrics:
      type: object
      properties:
        text:
          type: string
        language:
          type: string
      example:
        language: language
        text: text
    Track_stats:
      type: object
      properties:
        playCount:
          type: integer
      example:
        playCount: 7
  responses:
    BadRequest:
      description: Petición inválida
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    NotFound:
      description: Recurso no encontrado
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    Forbidden:
      description: "No autorizado para comentar (por ejemplo, solo si ha comprado)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
  parameters:
    PageParam:
      name: page
      in: query
      required: false
      style: form
      explode: true
      schema:
        minimum: 1
        type: integer
        default: 1
    LimitParam:
      name: limit
      in: query
      required: false
      style: form
      explode: true
      schema:
        maximum: 100
        minimum: 1
        type: integer
        default: 20
    IncludeParam:
      name: include
      in: query
      description: "Campos relacionados a incluir, separados por coma. Ej. `tracks,label,stats`"
      required: false
      style: form
      explode: false
      schema:
        type: array
        items:
          type: string
    AlbumId:
      name: albumId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
    TrackId:
      name: trackId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
    MerchId:
      name: merchId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
    VariantId:
      name: variantId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
    LabelId:
      name: labelId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
    CommentId:
      name: commentId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
    UserId:
      name: userId
      in: path
      required: true
      style: simple
      explode: false
      schema:
        type: string
        format: uuid
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://auth.undersound.example.com/authorize
          tokenUrl: https://auth.undersound.example.com/token
          scopes:
            content.read: Lectura de contenido
            content.write: Escritura de contenido
      x-tokenInfoFunc: swagger_server.controllers.authorization_controller.check_oauth2
      x-scopeValidateFunc: swagger_server.controllers.authorization_controller.validate_scope_oauth2
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      x-bearerInfoFunc: swagger_server.controllers.authorization_controller.check_bearerAuth

